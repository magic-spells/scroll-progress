{"version":3,"file":"scroll-progress.js","sources":["../src/scroll-progress.js"],"sourcesContent":["/* scroll-progress web component\n * provides a custom element for tracking scroll progress and exposing it\n * as a css variable (--scroll-progress), with gpu-optimized settings.\n * no scroll event listeners are used; everything is rAF + observers.\n */\n\n// throttle utility\nfunction throttle(fn, wait) {\n\tlet lastTime = 0;\n\treturn function (...args) {\n\t\tconst now = Date.now();\n\t\tif (now - lastTime >= wait) {\n\t\t\tlastTime = now;\n\t\t\tfn.apply(this, args);\n\t\t}\n\t};\n}\n\nclass ScrollProgress extends HTMLElement {\n\t// private fields\n\t#cache = null;\n\t#cachedViewportHeight = 0;\n\t#resizeObserver = null;\n\t#intersectionObserver = null;\n\t#isActive = false;\n\t#rafId = null;\n\t#handleResize = null;\n\t#lastProgress = -1;\n\n\tstatic #styleInjected = false;\n\tstatic #injectBaseStyles() {\n\t\tif (ScrollProgress.#styleInjected) return;\n\n\t\tconst styleTag = document.createElement('style');\n\t\tstyleTag.textContent = `scroll-progress {\n\tdisplay: block;\n\t--scroll-progress: 0;\n\twill-change: transform;\n\ttransform-style: preserve-3d;\n\tbackface-visibility: hidden; }`;\n\t\tdocument.head.appendChild(styleTag);\n\t\tScrollProgress.#styleInjected = true;\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn [\n\t\t\t'playhead-element-start',\n\t\t\t'playhead-viewport-start',\n\t\t\t'playhead-element-end',\n\t\t\t'playhead-viewport-end',\n\t\t];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tScrollProgress.#injectBaseStyles();\n\t}\n\n\tconnectedCallback() {\n\t\tthis.#cachedViewportHeight = window.innerHeight;\n\t\tthis.#initializeCache();\n\t\tthis.#setupObservers();\n\t\tthis.#attachEventListeners();\n\t\tthis.#startRafLoop();\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.#stopRafLoop();\n\t\tthis.#detachEventListeners();\n\t\tthis.#cleanupObservers();\n\t}\n\n\tattributeChangedCallback(name, oldValue, newValue) {\n\t\tif (oldValue !== newValue && this.#cache) {\n\t\t\tthis.#initializeCache();\n\t\t}\n\t}\n\n\t#initializeCache() {\n\t\tconst rect = this.getBoundingClientRect();\n\t\tthis.#cache = {\n\t\t\telementStartAnchor: this.getAttribute('playhead-element-start') || 'top',\n\t\t\tviewportStartAnchor: this.getAttribute('playhead-viewport-start') || 'bottom',\n\t\t\telementEndAnchor: this.getAttribute('playhead-element-end') || 'bottom',\n\t\t\tviewportEndAnchor: this.getAttribute('playhead-viewport-end') || 'top',\n\t\t\telementStartPosition: 0,\n\t\t\telementEndPosition: 0,\n\t\t\tviewportStartPosition: 0,\n\t\t\tviewportEndPosition: 0,\n\t\t\ttotalDistance: 0,\n\t\t};\n\n\t\tthis.#updateCachedPositions(rect);\n\t}\n\n\t#updateCachedPositions(rect) {\n\t\tif (!rect) rect = this.getBoundingClientRect();\n\t\tif (!this.#cache) return;\n\n\t\tthis.#cache.elementStartPosition = this.#getElementAnchorPosition(\n\t\t\tthis.#cache.elementStartAnchor,\n\t\t\trect\n\t\t);\n\t\tthis.#cache.elementEndPosition = this.#getElementAnchorPosition(\n\t\t\tthis.#cache.elementEndAnchor,\n\t\t\trect\n\t\t);\n\n\t\tthis.#cache.viewportStartPosition = this.#getViewportAnchorPosition(\n\t\t\tthis.#cache.viewportStartAnchor,\n\t\t\tthis.#cachedViewportHeight\n\t\t);\n\t\tthis.#cache.viewportEndPosition = this.#getViewportAnchorPosition(\n\t\t\tthis.#cache.viewportEndAnchor,\n\t\t\tthis.#cachedViewportHeight\n\t\t);\n\n\t\tthis.#cache.totalDistance =\n\t\t\tthis.#cache.elementEndPosition -\n\t\t\tthis.#cache.viewportEndPosition -\n\t\t\t(this.#cache.elementStartPosition - this.#cache.viewportStartPosition);\n\n\t\tif (this.#cache.totalDistance < 0) {\n\t\t\tconsole.warn('<scroll-progress> totalDistance negative, check anchors');\n\t\t\tthis.#cache.totalDistance = Math.abs(this.#cache.totalDistance);\n\t\t}\n\t}\n\n\t#getElementAnchorPosition(anchor, rect) {\n\t\tif (anchor === 'top') return rect.top;\n\t\tif (anchor === 'center') return rect.top + rect.height / 2;\n\t\treturn rect.bottom;\n\t}\n\n\t#getViewportAnchorPosition(anchor, viewportHeight) {\n\t\tif (anchor === 'top') return 0;\n\t\tif (anchor === 'center') return viewportHeight / 2;\n\t\treturn viewportHeight;\n\t}\n\n\t#clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\t#startRafLoop() {\n\t\tconst updateLoop = () => {\n\t\t\tif (this.#isActive) {\n\t\t\t\tthis.#updateScrollProgress();\n\t\t\t}\n\t\t\tthis.#rafId = requestAnimationFrame(updateLoop);\n\t\t};\n\t\tthis.#rafId = requestAnimationFrame(updateLoop);\n\t}\n\n\t#stopRafLoop() {\n\t\tif (this.#rafId) {\n\t\t\tcancelAnimationFrame(this.#rafId);\n\t\t\tthis.#rafId = null;\n\t\t}\n\t}\n\n\t#updateScrollProgress() {\n\t\tif (!this.#cache) return;\n\n\t\tconst rect = this.getBoundingClientRect();\n\t\tconst currentElementStart = this.#getElementAnchorPosition(\n\t\t\tthis.#cache.elementStartAnchor,\n\t\t\trect\n\t\t);\n\n\t\tconst currentDistance = this.#cache.viewportStartPosition - currentElementStart;\n\t\tconst progress =\n\t\t\tthis.#cache.totalDistance === 0\n\t\t\t\t? 0\n\t\t\t\t: this.#clamp(currentDistance / this.#cache.totalDistance, 0, 1);\n\n\t\tif (Math.abs(progress - this.#lastProgress) > 0.001) {\n\t\t\tthis.#lastProgress = progress;\n\t\t\tthis.style.setProperty('--scroll-progress', progress);\n\t\t\tthis.dispatchEvent(\n\t\t\t\tnew CustomEvent('scroll-progress:update', {\n\t\t\t\t\tdetail: { progress },\n\t\t\t\t\tbubbles: true,\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\t#setupObservers() {\n\t\tif ('ResizeObserver' in window) {\n\t\t\tthis.#resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.target === this) {\n\t\t\t\t\t\tthis.#updateCachedPositions(entry.contentRect);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.#resizeObserver.observe(this);\n\t\t}\n\n\t\tif ('IntersectionObserver' in window) {\n\t\t\tconst observerOptions = {\n\t\t\t\trootMargin: '50% 0px 50% 0px',\n\t\t\t};\n\n\t\t\tthis.#intersectionObserver = new IntersectionObserver((entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.target === this) {\n\t\t\t\t\t\tthis.#isActive = entry.isIntersecting;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, observerOptions);\n\n\t\t\tthis.#intersectionObserver.observe(this);\n\t\t} else {\n\t\t\tthis.#isActive = true;\n\t\t}\n\t}\n\n\t#cleanupObservers() {\n\t\tif (this.#resizeObserver) {\n\t\t\tthis.#resizeObserver.disconnect();\n\t\t\tthis.#resizeObserver = null;\n\t\t}\n\n\t\tif (this.#intersectionObserver) {\n\t\t\tthis.#intersectionObserver.disconnect();\n\t\t\tthis.#intersectionObserver = null;\n\t\t}\n\t}\n\n\t#attachEventListeners() {\n\t\tconst resizeHandler = () => {\n\t\t\tthis.#cachedViewportHeight = window.innerHeight;\n\t\t\tif (this.#cache) {\n\t\t\t\tthis.#cache.viewportStartPosition = this.#getViewportAnchorPosition(\n\t\t\t\t\tthis.#cache.viewportStartAnchor,\n\t\t\t\t\tthis.#cachedViewportHeight\n\t\t\t\t);\n\t\t\t\tthis.#cache.viewportEndPosition = this.#getViewportAnchorPosition(\n\t\t\t\t\tthis.#cache.viewportEndAnchor,\n\t\t\t\t\tthis.#cachedViewportHeight\n\t\t\t\t);\n\t\t\t\tthis.#cache.totalDistance =\n\t\t\t\t\tthis.#cache.elementEndPosition -\n\t\t\t\t\tthis.#cache.viewportEndPosition -\n\t\t\t\t\t(this.#cache.elementStartPosition - this.#cache.viewportStartPosition);\n\t\t\t\tthis.#updateCachedPositions();\n\t\t\t}\n\t\t};\n\n\t\tthis.#handleResize = throttle(resizeHandler, 50);\n\t\twindow.addEventListener('resize', this.#handleResize);\n\t}\n\n\t#detachEventListeners() {\n\t\tif (this.#handleResize) {\n\t\t\twindow.removeEventListener('resize', this.#handleResize);\n\t\t\tthis.#handleResize = null;\n\t\t}\n\t}\n\n\tgetProgress() {\n\t\treturn parseFloat(this.style.getPropertyValue('--scroll-progress') || 0);\n\t}\n\n\tupdate() {\n\t\tif (this.#cache) {\n\t\t\tthis.#updateCachedPositions();\n\t\t}\n\t}\n\n\tpause() {\n\t\tthis.#stopRafLoop();\n\t}\n\n\tresume() {\n\t\tif (!this.#rafId) {\n\t\t\tthis.#startRafLoop();\n\t\t}\n\t}\n}\n\nif (!customElements.get('scroll-progress')) {\n\tcustomElements.define('scroll-progress', ScrollProgress);\n}\n\nexport { ScrollProgress };\n"],"names":[],"mappings":"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"}