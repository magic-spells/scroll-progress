{"version":3,"file":"scroll-progress.esm.js","sources":["../src/scroll-progress.js"],"sourcesContent":["/* scroll-progress web component\n * provides a custom element for tracking scroll progress and exposing it\n * as a css variable (--scroll-progress), with gpu-optimized settings.\n * no scroll event listeners are used; everything is rAF + observers.\n */\n\n// throttle utility\nfunction throttle(fn, wait) {\n\tlet lastTime = 0;\n\treturn function (...args) {\n\t\tconst now = Date.now();\n\t\tif (now - lastTime >= wait) {\n\t\t\tlastTime = now;\n\t\t\tfn.apply(this, args);\n\t\t}\n\t};\n}\n\nclass ScrollProgress extends HTMLElement {\n\t// private fields\n\t#cache = null;\n\t#cachedViewportHeight = 0;\n\t#resizeObserver = null;\n\t#intersectionObserver = null;\n\t#isActive = false;\n\t#rafId = null;\n\t#handleResize = null;\n\t#lastProgress = -1;\n\n\tstatic #styleInjected = false;\n\tstatic #injectBaseStyles() {\n\t\tif (ScrollProgress.#styleInjected) return;\n\n\t\tconst styleTag = document.createElement('style');\n\t\tstyleTag.textContent = `scroll-progress {\n\tdisplay: block;\n\t--scroll-progress: 0;\n\twill-change: transform;\n\ttransform-style: preserve-3d;\n\tbackface-visibility: hidden; }`;\n\t\tdocument.head.appendChild(styleTag);\n\t\tScrollProgress.#styleInjected = true;\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn [\n\t\t\t'playhead-element-start',\n\t\t\t'playhead-viewport-start',\n\t\t\t'playhead-element-end',\n\t\t\t'playhead-viewport-end',\n\t\t];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tScrollProgress.#injectBaseStyles();\n\t}\n\n\tconnectedCallback() {\n\t\tthis.#cachedViewportHeight = window.innerHeight;\n\t\tthis.#initializeCache();\n\t\tthis.#setupObservers();\n\t\tthis.#attachEventListeners();\n\t\tthis.#startRafLoop();\n\t}\n\n\tdisconnectedCallback() {\n\t\tthis.#stopRafLoop();\n\t\tthis.#detachEventListeners();\n\t\tthis.#cleanupObservers();\n\t}\n\n\tattributeChangedCallback(name, oldValue, newValue) {\n\t\tif (oldValue !== newValue && this.#cache) {\n\t\t\tthis.#initializeCache();\n\t\t}\n\t}\n\n\t#initializeCache() {\n\t\tconst rect = this.getBoundingClientRect();\n\t\tthis.#cache = {\n\t\t\telementStartAnchor: this.getAttribute('playhead-element-start') || 'top',\n\t\t\tviewportStartAnchor: this.getAttribute('playhead-viewport-start') || 'bottom',\n\t\t\telementEndAnchor: this.getAttribute('playhead-element-end') || 'bottom',\n\t\t\tviewportEndAnchor: this.getAttribute('playhead-viewport-end') || 'top',\n\t\t\telementStartPosition: 0,\n\t\t\telementEndPosition: 0,\n\t\t\tviewportStartPosition: 0,\n\t\t\tviewportEndPosition: 0,\n\t\t\ttotalDistance: 0,\n\t\t};\n\n\t\tthis.#updateCachedPositions(rect);\n\t}\n\n\t#updateCachedPositions(rect) {\n\t\tif (!rect) rect = this.getBoundingClientRect();\n\t\tif (!this.#cache) return;\n\n\t\tthis.#cache.elementStartPosition = this.#getElementAnchorPosition(\n\t\t\tthis.#cache.elementStartAnchor,\n\t\t\trect\n\t\t);\n\t\tthis.#cache.elementEndPosition = this.#getElementAnchorPosition(\n\t\t\tthis.#cache.elementEndAnchor,\n\t\t\trect\n\t\t);\n\n\t\tthis.#cache.viewportStartPosition = this.#getViewportAnchorPosition(\n\t\t\tthis.#cache.viewportStartAnchor,\n\t\t\tthis.#cachedViewportHeight\n\t\t);\n\t\tthis.#cache.viewportEndPosition = this.#getViewportAnchorPosition(\n\t\t\tthis.#cache.viewportEndAnchor,\n\t\t\tthis.#cachedViewportHeight\n\t\t);\n\n\t\tthis.#cache.totalDistance =\n\t\t\tthis.#cache.elementEndPosition -\n\t\t\tthis.#cache.viewportEndPosition -\n\t\t\t(this.#cache.elementStartPosition - this.#cache.viewportStartPosition);\n\n\t\tif (this.#cache.totalDistance < 0) {\n\t\t\tconsole.warn('<scroll-progress> totalDistance negative, check anchors');\n\t\t\tthis.#cache.totalDistance = Math.abs(this.#cache.totalDistance);\n\t\t}\n\t}\n\n\t#getElementAnchorPosition(anchor, rect) {\n\t\tif (anchor === 'top') return rect.top;\n\t\tif (anchor === 'center') return rect.top + rect.height / 2;\n\t\treturn rect.bottom;\n\t}\n\n\t#getViewportAnchorPosition(anchor, viewportHeight) {\n\t\tif (anchor === 'top') return 0;\n\t\tif (anchor === 'center') return viewportHeight / 2;\n\t\treturn viewportHeight;\n\t}\n\n\t#clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\t#startRafLoop() {\n\t\tconst updateLoop = () => {\n\t\t\tif (this.#isActive) {\n\t\t\t\tthis.#updateScrollProgress();\n\t\t\t}\n\t\t\tthis.#rafId = requestAnimationFrame(updateLoop);\n\t\t};\n\t\tthis.#rafId = requestAnimationFrame(updateLoop);\n\t}\n\n\t#stopRafLoop() {\n\t\tif (this.#rafId) {\n\t\t\tcancelAnimationFrame(this.#rafId);\n\t\t\tthis.#rafId = null;\n\t\t}\n\t}\n\n\t#updateScrollProgress() {\n\t\tif (!this.#cache) return;\n\n\t\tconst rect = this.getBoundingClientRect();\n\t\tconst currentElementStart = this.#getElementAnchorPosition(\n\t\t\tthis.#cache.elementStartAnchor,\n\t\t\trect\n\t\t);\n\n\t\tconst currentDistance = this.#cache.viewportStartPosition - currentElementStart;\n\t\tconst progress =\n\t\t\tthis.#cache.totalDistance === 0\n\t\t\t\t? 0\n\t\t\t\t: this.#clamp(currentDistance / this.#cache.totalDistance, 0, 1);\n\n\t\tif (Math.abs(progress - this.#lastProgress) > 0.001) {\n\t\t\tthis.#lastProgress = progress;\n\t\t\tthis.style.setProperty('--scroll-progress', progress);\n\t\t\tthis.dispatchEvent(\n\t\t\t\tnew CustomEvent('scroll-progress:update', {\n\t\t\t\t\tdetail: { progress },\n\t\t\t\t\tbubbles: true,\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}\n\n\t#setupObservers() {\n\t\tif ('ResizeObserver' in window) {\n\t\t\tthis.#resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.target === this) {\n\t\t\t\t\t\tthis.#updateCachedPositions(entry.contentRect);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.#resizeObserver.observe(this);\n\t\t}\n\n\t\tif ('IntersectionObserver' in window) {\n\t\t\tconst observerOptions = {\n\t\t\t\trootMargin: '50% 0px 50% 0px',\n\t\t\t};\n\n\t\t\tthis.#intersectionObserver = new IntersectionObserver((entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.target === this) {\n\t\t\t\t\t\tthis.#isActive = entry.isIntersecting;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, observerOptions);\n\n\t\t\tthis.#intersectionObserver.observe(this);\n\t\t} else {\n\t\t\tthis.#isActive = true;\n\t\t}\n\t}\n\n\t#cleanupObservers() {\n\t\tif (this.#resizeObserver) {\n\t\t\tthis.#resizeObserver.disconnect();\n\t\t\tthis.#resizeObserver = null;\n\t\t}\n\n\t\tif (this.#intersectionObserver) {\n\t\t\tthis.#intersectionObserver.disconnect();\n\t\t\tthis.#intersectionObserver = null;\n\t\t}\n\t}\n\n\t#attachEventListeners() {\n\t\tconst resizeHandler = () => {\n\t\t\tthis.#cachedViewportHeight = window.innerHeight;\n\t\t\tif (this.#cache) {\n\t\t\t\tthis.#cache.viewportStartPosition = this.#getViewportAnchorPosition(\n\t\t\t\t\tthis.#cache.viewportStartAnchor,\n\t\t\t\t\tthis.#cachedViewportHeight\n\t\t\t\t);\n\t\t\t\tthis.#cache.viewportEndPosition = this.#getViewportAnchorPosition(\n\t\t\t\t\tthis.#cache.viewportEndAnchor,\n\t\t\t\t\tthis.#cachedViewportHeight\n\t\t\t\t);\n\t\t\t\tthis.#cache.totalDistance =\n\t\t\t\t\tthis.#cache.elementEndPosition -\n\t\t\t\t\tthis.#cache.viewportEndPosition -\n\t\t\t\t\t(this.#cache.elementStartPosition - this.#cache.viewportStartPosition);\n\t\t\t\tthis.#updateCachedPositions();\n\t\t\t}\n\t\t};\n\n\t\tthis.#handleResize = throttle(resizeHandler, 50);\n\t\twindow.addEventListener('resize', this.#handleResize);\n\t}\n\n\t#detachEventListeners() {\n\t\tif (this.#handleResize) {\n\t\t\twindow.removeEventListener('resize', this.#handleResize);\n\t\t\tthis.#handleResize = null;\n\t\t}\n\t}\n\n\tgetProgress() {\n\t\treturn parseFloat(this.style.getPropertyValue('--scroll-progress') || 0);\n\t}\n\n\tupdate() {\n\t\tif (this.#cache) {\n\t\t\tthis.#updateCachedPositions();\n\t\t}\n\t}\n\n\tpause() {\n\t\tthis.#stopRafLoop();\n\t}\n\n\tresume() {\n\t\tif (!this.#rafId) {\n\t\t\tthis.#startRafLoop();\n\t\t}\n\t}\n}\n\nif (!customElements.get('scroll-progress')) {\n\tcustomElements.define('scroll-progress', ScrollProgress);\n}\n\nexport { ScrollProgress };\n"],"names":[],"mappings":"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"}